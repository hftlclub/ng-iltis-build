webpackJsonp([5],{zSek:function(l,n,u){"use strict";function t(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,6,"td",[],[[1,"rowspan",0],[2,"warning",null],[2,"danger",null]],null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275eld"](2,0,null,null,0,"img",[["alt",""],["class","hidden-print"],["height","30"],["width","30"]],[[8,"src",4]],null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),m["\u0275ted"](5,null,["",""])),(l()(),m["\u0275ted"](-1,null,["\n        "]))],null,function(l,n){l(n,0,0,n.parent.parent.context.$implicit.inventory.length,n.parent.parent.context.$implicit.someCloseToMin,n.parent.parent.context.$implicit.someBelowMin),l(n,2,0,n.parent.parent.context.$implicit.product.imgFilename),l(n,5,0,n.parent.parent.context.$implicit.product.name)})}function e(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,1,"il-icon",[["for","fa fa-exclamation-circle"],["title","Mindestbestand bald unterschritten"]],null,null,null,f.b,f.a)),m["\u0275did"](1,49152,null,0,g.a,[],{for:[0,"for"]},null)],function(l,n){l(n,1,0,"fa fa-exclamation-circle")},null)}function i(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,1,"il-icon",[["for","fa fa-exclamation-triangle"],["title","Mindestbestand unterschritten"]],null,null,null,f.b,f.a)),m["\u0275did"](1,49152,null,0,g.a,[],{for:[0,"for"]},null)],function(l,n){l(n,1,0,"fa fa-exclamation-triangle")},null)}function o(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,2,"td",[],[[1,"rowspan",0],[2,"warning",null],[2,"danger",null]],null,null,null,null)),(l()(),m["\u0275ted"](1,null,["\n          "," ","\n        "])),m["\u0275ppd"](2,2)],null,function(l,n){l(n,0,0,n.parent.parent.context.$implicit.inventory.length,n.parent.parent.context.$implicit.someCloseToMin,n.parent.parent.context.$implicit.someBelowMin),l(n,1,0,m["\u0275unv"](n,1,0,l(n,2,0,m["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.totalVolume,"1.0-3")),n.parent.parent.context.$implicit.product.unit.full)})}function r(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,36,"tr",[],[[2,"warning",null],[2,"danger",null]],null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275and"](16777216,null,null,1,null,t)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),m["\u0275ted"](6,null,[""," "," ",""])),m["\u0275ppd"](7,1),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),m["\u0275ted"](10,null,["",""])),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](12,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),m["\u0275ted"](13,null,["",""])),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](15,0,null,null,10,"td",[],[[2,"text-warning",null],[2,"text-danger",null]],null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),m["\u0275ted"](18,null,["",""])),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275and"](16777216,null,null,1,null,e)),m["\u0275did"](21,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275and"](16777216,null,null,1,null,i)),m["\u0275did"](24,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](27,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),m["\u0275ted"](28,null,["",""])),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](30,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),m["\u0275ted"](31,null,[""," ",""])),m["\u0275ppd"](32,2),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275and"](16777216,null,null,1,null,o)),m["\u0275did"](35,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),m["\u0275ted"](-1,null,["\n      "]))],function(l,n){l(n,3,0,n.context.first),l(n,21,0,n.context.$implicit.isCloseToMin),l(n,24,0,n.context.$implicit.isBelowMin),l(n,35,0,n.context.first)},function(l,n){l(n,0,0,n.context.$implicit.isCloseToMin,n.context.$implicit.isBelowMin),l(n,6,0,n.context.$implicit.sizeType.description,m["\u0275unv"](n,6,1,l(n,7,0,m["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.sizeType.amount)),n.parent.context.$implicit.product.unit.full),l(n,10,0,n.context.$implicit.storage),l(n,13,0,n.context.$implicit.counter),l(n,15,0,n.context.$implicit.isCloseToMin,n.context.$implicit.isBelowMin),l(n,18,0,n.context.$implicit.total),l(n,28,0,n.context.$implicit.minStock),l(n,31,0,m["\u0275unv"](n,31,0,l(n,32,0,m["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.totalVolume,"1.0-3")),n.parent.context.$implicit.product.unit.full)})}function d(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275and"](16777216,null,null,1,null,r)),m["\u0275did"](3,802816,null,0,v.NgForOf,[m.ViewContainerRef,m.TemplateRef,m.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),m["\u0275ted"](-1,null,["\n    "]))],function(l,n){l(n,3,0,n.context.$implicit.inventory)},null)}function a(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,37,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275eld"](2,0,null,null,28,"thead",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n    "])),(l()(),m["\u0275eld"](4,0,null,null,25,"tr",[["class","category-header"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Produkt"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Gebinde"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Lager"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Bar"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Gesamt"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Mindestbestand"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Volumen"])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Volumen gesamt"])),(l()(),m["\u0275ted"](-1,null,["\n    "])),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275ted"](-1,null,["\n\n  "])),(l()(),m["\u0275eld"](32,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n    "])),(l()(),m["\u0275and"](16777216,null,null,1,null,d)),m["\u0275did"](35,802816,null,0,v.NgForOf,[m.ViewContainerRef,m.TemplateRef,m.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275ted"](-1,null,["\n"]))],function(l,n){l(n,35,0,n.component.productGroups)},null)}function c(l){return m["\u0275vid"](0,[m["\u0275pid"](0,v.DecimalPipe,[m.LOCALE_ID]),m["\u0275pid"](0,v.DatePipe,[m.LOCALE_ID]),(l()(),m["\u0275and"](16777216,null,null,1,null,a)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),m["\u0275ted"](-1,null,["\n\n"])),(l()(),m["\u0275eld"](5,0,null,null,5,"div",[["class","visible-print"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275eld"](7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["Stand:"])),(l()(),m["\u0275ted"](9,null,[" "," Uhr\n"])),m["\u0275ppd"](10,2),(l()(),m["\u0275ted"](-1,null,["\n"]))],function(l,n){l(n,3,0,n.component.productGroups)},function(l,n){var u=n.component;l(n,9,0,m["\u0275unv"](n,9,0,l(n,10,0,m["\u0275nov"](n,1),u.d,"medium")))})}function p(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,23,"div",[["class","container"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275eld"](2,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n    "])),(l()(),m["\u0275eld"](4,0,null,null,17,"div",[["class","col-md-12 content"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](6,0,null,null,7,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](8,0,null,null,4,"h1",[],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n          "])),(l()(),m["\u0275eld"](10,0,null,null,1,"il-icon",[["for","stock"]],null,null,null,f.b,f.a)),m["\u0275did"](11,49152,null,0,g.a,[],{for:[0,"for"]},null),(l()(),m["\u0275ted"](-1,null,["\n          Lagerbestand\n        "])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275eld"](15,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),m["\u0275ted"](-1,null,["\n        "])),(l()(),m["\u0275eld"](17,0,null,null,2,"il-inventory-table",[],null,null,null,c,C)),m["\u0275did"](18,638976,null,0,M,[],{inventory:[0,"inventory"]},null),m["\u0275pid"](131072,v.AsyncPipe,[m.ChangeDetectorRef]),(l()(),m["\u0275ted"](-1,null,["\n      "])),(l()(),m["\u0275ted"](-1,null,["\n    "])),(l()(),m["\u0275ted"](-1,null,["\n  "])),(l()(),m["\u0275ted"](-1,null,["\n"])),(l()(),m["\u0275ted"](-1,null,["\n"]))],function(l,n){var u=n.component;l(n,11,0,"stock"),l(n,18,0,m["\u0275unv"](n,18,0,m["\u0275nov"](n,19).transform(u.inventory$)))},null)}Object.defineProperty(n,"__esModule",{value:!0});var m=u("LMZF"),s=function(){},f=u("KVfs"),g=u("/Wc0"),v=u("Un6q"),h=u("xrDH"),y=u.n(h),x=this&&this.__assign||Object.assign||function(l){for(var n,u=1,t=arguments.length;u<t;u++){n=arguments[u];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e])}return l},M=function(){function l(){this.d=new Date}return l.prototype.ngOnInit=function(){},l.prototype.ngOnChanges=function(l){l.inventory&&l.inventory.currentValue&&(this.productGroups=this.transformToTableData(this.inventory))},l.prototype.transformToTableData=function(l){var n=function(l){return{sizeType:l.sizeType,minStock:l.minStock,storage:l.storage,counter:l.counter,total:l.storage+l.counter}},u=function(l){return x({},l,{totalVolume:l.total*l.sizeType.amount,isBelowMin:l.total<=l.minStock,isCloseToMin:l.minStock&&l.total<l.minStock+20&&l.total>l.minStock})};return Object.values(y.a.groupBy(l,function(l){return l.product.id})).map(function(l){return{product:l[0].product,inventory:l.map(n).map(u)}}).map(function(l){return x({},l,{totalVolume:l.inventory.reduce(function(l,n){return l+n.totalVolume},0),someBelowMin:l.inventory.some(function(l){return l.isBelowMin}),someCloseToMin:l.inventory.some(function(l){return l.isCloseToMin})})}).sort(function(l,n){return l.product.name.localeCompare(n.product.name)})},l}(),C=m["\u0275crt"]({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{vertical-align:middle!important}td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}"]],data:{}}),b=function(){function l(l){this.is=l}return l.prototype.ngOnInit=function(){this.inventory$=this.is.getCurrentInventory()},l}(),T=u("riZV"),w=(u("PSNg"),u("xOg1")),O=function(){function l(l,n){this.http=l,this.api=n}return l.prototype.getCurrentInventory=function(){return this.http.get(this.api+"/inventory").pipe(Object(T.i)(3),Object(T.e)(function(l){return l.map(function(l){return w.a.fromObj(l)})}))},l}(),I=m["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),$=m["\u0275ccf"]("il-inventory",b,function(l){return m["\u0275vid"](0,[(l()(),m["\u0275eld"](0,0,null,null,1,"il-inventory",[],null,null,null,p,I)),m["\u0275did"](1,114688,null,0,b,[O],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),R=u("LdGb"),F=u("TRAr"),V=u("CA7+"),D=u("0nO6"),L=u("9iV4"),N=u("1APs"),k=u("UHIZ"),P=function(){},A=u("CJCw"),B=u("EQxj"),S=u("X/HD"),_=u("0Zl/"),j=u("M0cg"),z=u("T2Au");u.d(n,"InventoryModuleNgFactory",function(){return E});var E=m["\u0275cmf"](s,[],function(l){return m["\u0275mod"]([m["\u0275mpd"](512,m.ComponentFactoryResolver,m["\u0275CodegenComponentFactoryResolver"],[[8,[$,R.a,F.a,V.a]],[3,m.ComponentFactoryResolver],m.NgModuleRef]),m["\u0275mpd"](4608,v.NgLocalization,v.NgLocaleLocalization,[m.LOCALE_ID,[2,v["\u0275a"]]]),m["\u0275mpd"](4608,D.FormBuilder,D.FormBuilder,[]),m["\u0275mpd"](4608,D["\u0275i"],D["\u0275i"],[]),m["\u0275mpd"](4608,L.h,L.m,[v.DOCUMENT,m.PLATFORM_ID,L.k]),m["\u0275mpd"](4608,L.n,L.n,[L.h,L.l]),m["\u0275mpd"](5120,L.a,function(l){return[l]},[L.n]),m["\u0275mpd"](4608,L.j,L.j,[]),m["\u0275mpd"](6144,L.i,null,[L.j]),m["\u0275mpd"](4608,L.g,L.g,[L.i]),m["\u0275mpd"](6144,L.b,null,[L.g]),m["\u0275mpd"](5120,L.f,L.o,[L.b,[2,L.a]]),m["\u0275mpd"](4608,L.c,L.c,[L.f]),m["\u0275mpd"](5120,N.b,N.a,[[3,N.b]]),m["\u0275mpd"](4608,O,O,[L.c,"API_URL"]),m["\u0275mpd"](512,v.CommonModule,v.CommonModule,[]),m["\u0275mpd"](512,k.r,k.r,[[2,k.w],[2,k.n]]),m["\u0275mpd"](512,P,P,[]),m["\u0275mpd"](512,D["\u0275ba"],D["\u0275ba"],[]),m["\u0275mpd"](512,D.ReactiveFormsModule,D.ReactiveFormsModule,[]),m["\u0275mpd"](512,D.FormsModule,D.FormsModule,[]),m["\u0275mpd"](512,L.e,L.e,[]),m["\u0275mpd"](512,L.d,L.d,[]),m["\u0275mpd"](512,A.DateValueAccessorModule,A.DateValueAccessorModule,[]),m["\u0275mpd"](512,B.a,B.a,[]),m["\u0275mpd"](512,S.a,S.a,[]),m["\u0275mpd"](512,_.a,_.a,[]),m["\u0275mpd"](512,j.a,j.a,[]),m["\u0275mpd"](512,z.a,z.a,[]),m["\u0275mpd"](512,s,s,[]),m["\u0275mpd"](1024,k.l,function(){return[[{path:"",component:b}]]},[]),m["\u0275mpd"](256,L.k,"XSRF-TOKEN",[]),m["\u0275mpd"](256,L.l,"X-XSRF-TOKEN",[])])})}});